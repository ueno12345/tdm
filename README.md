# Vim風TUI TODO管理ツール

これは Bash で作られた **Vim風のターミナルTODO管理ツール** です。  
勤務形態に応じたルーティンタスクの自動追加、月報・週報タスクの自動追加、前回未完了タスクのコピーなどの機能が備わっています。

---

## 特徴

- 日付ごとに TODO ファイルを管理（デフォルト: `$HOME/Documents/todo_list/YYYYMM/DD.txt`）
- 勤務形態に応じてルーティンタスクを自動追加
- 月の最初の出勤日には月報タスクを自動追加
- 週の最初の出勤日には週報タスクを自動追加
- 前回未完了タスクをコピーして引き継ぎ
- タスクの完了/見送り/優先度変更が可能
- フィルタ表示：全て / 未完了 / 完了

---

## 起動方法

```bash
./tdm [オプション]
```

## オプション

| オプション       | 説明 |
|-----------------|------|
| `-h`, `--help`   | ヘルプを表示 |
| `-d YYYYMMDD`    | 指定日でTODOを起動（デフォルト: 今日） |
| `-b DIR`         | TODOファイル保存ベースディレクトリ指定（デフォルト: `$HOME/Documents/todo_list`） |

---

## TUI操作一覧

| 操作  | 説明 |
|-------|------|
| `j / k` | 上下移動 |
| `h / l` | 前日 / 翌日切替 |
| `Enter` | 選択中のタスク完了 / 未完了切替 |
| `-`     | 選択中のタスクを「見送り」に変更 |
| `1`     | タスクを未完了 `[ ]` に変更 |
| `2`     | タスクを高優先度 `[!]` に変更 |
| `3`     | タスクを中優先度 `[~]` に変更 |
| `4`     | タスクを低優先度 `[.]` に変更 |
| `a`     | タスク追加（タグ選択 → 内容入力） |
| `f`     | フィルタ切替（全て / 未完了 / 完了） |
| `q`     | 保存して終了 |

---

## タグ一覧

| タグ  | 意味        | 色   |
|-------|------------|------|
| `[x]` | 完了        | グレー |
| `[ ]` | 未完了      | 標準 |
| `[-]` | 見送り      | シアン |
| `[!]` | 高優先度    | 赤 |
| `[~]` | 中優先度    | 黄 |
| `[.]` | 低優先度    | 青 |

---

## 自動追加機能

### ルーティンタスク
勤務形態に応じたタスクを自動で追加します。

### 前回未完了タスクのコピー
前日の未完了タスクを自動で今日のTODOにコピーします。

### 月報タスク
月の最初の出勤日に自動追加されます。

### 週報タスク
週の最初の出勤日に自動追加されます（平日扱い）。

---

## ファイル管理

- デフォルトディレクトリ: `$HOME/Documents/todo_list/YYYYMM`
- 日付ごとにテキストファイルで保存: `YYYYMMDD.txt`
- 新規ファイル作成時に自動でルーティンタスク・月報・週報を追加

---

## 事前準備

### 1. 実行権限の付与

`tdm` を実行可能にするために、以下のコマンドを実行してください:

```bash
chmod +x /path/to/tdm
```
> ※必要に応じてパスを通してください
---

### 2. ルーティンタスク用テンプレート作成

勤務形態ごとの自動追加タスク用テンプレートを作成します。  
デフォルトの保存先は `$HOME/Documents/todo_list/template/` です。
```bash
mkdir -p $HOME/Documents/todo_list/template
```

勤務形態ごとのファイル名:

| 勤務形態 | ファイル名 |
|----------|------------|
| 出勤     | `routine_shukkin.txt` |
| 在宅     | `routine_zaitaku.txt` |
| 出張     | `routine_syucchou.txt` |

各ファイルに1行ずつルーティンタスクを記入してください。  
```
例（`routine_shukkin.txt`）:
[ ] メールチェック
[ ] 朝会参加
[~] 報告資料作成
```
> タグを付けることで優先度や状態を指定できます。

---

## 使用例

```bash
# 今日のTODOを起動
tdm

# 指定日で起動
tdm -d 20251016

# 別のベースディレクトリで起動
tdm -b $HOME/todo
```

---

## 注意事項

- Bash 4.0 以上推奨
- `date` コマンドは GNU date を想定
- ANSIカラーに対応したターミナル推奨
